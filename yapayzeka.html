<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Parametreli JSON API</title>
</head>
<body>

    <p id="response">Veri bekleniyor...</p>

    <script>
        async function getResponse() {
            let urlParams = new URLSearchParams(window.location.search);
            let param = urlParams.get("soru");  // URL'deki 'soru' parametresini al

            let jsonURL = "https://lbusiedcake7945.github.io/lunerapi/yapay-zeka.json";
            let response = await fetch(jsonURL);
            let data = await response.json();

            let answer = data.cevaplar[param] || "Üzgünüm, bu soruya yanıtım yok.";
            document.getElementById("response").textContent = answer;
            function validateToken() {
    let urlParams = new URLSearchParams(window.location.search);
    let inputToken = urlParams.get("token"); // URL'den token al
    let storedTokens = JSON.parse(localStorage.getItem("apiTokens")) || [];

    let isValid = storedTokens.some(savedToken => atob(savedToken) === inputToken);

    if (isValid) {
        alert("Token doğrulandı! API erişimi açıldı.");
        document.body.innerHTML = "<h1>API Endpoint Açıldı!</h1>";
    } else {
        alert("Geçersiz token!");
        document.body.innerHTML = "<h1>Erişim Reddedildi!</h1>";
    }
}

window.onload = validateToken;

     
        getResponse();
    </script>

</body>
</html>
